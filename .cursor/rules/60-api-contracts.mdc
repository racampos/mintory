---
description: Enforce REST + SSE backend API and MCP tool contracts during implementation and review.
globs: ["apps/backend/**", "packages/mcp-server/**"]
alwaysApply: false
---

# API Contracts Enforcement

**Backend REST + SSE:** Must match `docs/context/backend_api_spec.md`.

- `/runs` start, `/runs/{id}` status, `/runs/{id}/stream` SSE, `/runs/{id}/resume` decisions.

**MCP server:** Must match `docs/context/mcp_tools_spec.md`.

- All write calls return **PreparedTx**, never send transactions.

**Validation:** Add request/response validators and integration tests that assert exact shapes.
